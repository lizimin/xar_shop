webpackJsonp([10],{"2Z7h":function(n,t,e){var a=e("LB/g");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("d2c08cfe",a,!0)},"6Her":function(n,t,e){n.exports=e.p+"static/img/xcklogo.fbe05a4.png"},DpDW:function(n,t,e){t=n.exports=e("FZ+f")(!0),t.push([n.i,"\n.qrcode[data-v-a74bc992]{\n  text-align: center;\n  padding: 30px;\n  background-color: #fff;\n}\n","",{version:3,sources:["E:/work_space/HBudiler/wx_mall_my/src/components/wechat/follow.vue"],names:[],mappings:";AACA;EACE,mBAAmB;EACnB,cAAc;EACd,uBAAuB;CACxB",file:"follow.vue",sourcesContent:["\n.qrcode[data-v-a74bc992]{\n  text-align: center;\n  padding: 30px;\n  background-color: #fff;\n}\n"],sourceRoot:""}])},"LB/g":function(n,t,e){t=n.exports=e("FZ+f")(!0),t.push([n.i,"\n.qrcode[data-v-3f0d5c88]{\n  text-align: center;\n  padding: 30px;\n  background-color: #fff;\n}\n.header[data-v-3f0d5c88]{\n  background-color: #FFD100;\n  height: 350px;\n  position: relative;\n}\n.notice-text[data-v-3f0d5c88]{\n  font-family: MicrosoftYaHei-Bold;\n  font-size: 35px;\n  color: #272727;\n  letter-spacing: 0;\n  padding: 10px;\n}\n.customer[data-v-3f0d5c88]{\n  height: 50px;\n  width: 60%;\n  background-color: #272727;\n  border-radius: 0 25px 25px 0;\n}\n.customer-header[data-v-3f0d5c88]{\n  width: 40px;\n  padding: 5px;\n  display: inline-block;\n  border-radius: 50%;\n}\n.cname[data-v-3f0d5c88]{\n  color: #FFD100;\n  line-height: 50px;\n  font-size: 18px;\n  vertical-align: top;\n  padding-top: 5px;\n}\n.give[data-v-3f0d5c88]{\n  color: #fff;\n  line-height: 50px;\n  font-size: 18px;\n  vertical-align: top;\n  padding-top: 5px;\n}\n.logo[data-v-3f0d5c88]{\n  height: 200px;\n  text-align: center;\n}\n.lq-btn[data-v-3f0d5c88]{\n  background-color: #F3F4F5;\n  color: #A3A3A3;\n  padding: 10px;\n  position:absolute;\n  width: 50%;\n  top: 315px;\n  left: 25%;\n}\n.lq-btn-red[data-v-3f0d5c88]{\n  background-color:#FE4D3D;\n  color: #fff;\n  -webkit-box-shadow: 0 8px 20px 0 rgba(0,0,0,0.20);\n          box-shadow: 0 8px 20px 0 rgba(0,0,0,0.20);\n}\n.nearShop[data-v-3f0d5c88]{\n  padding-top: 35px;\n  background-color: #fff;\n}\n.nearShop-one[data-v-3f0d5c88]{\n  font-family: MicrosoftYaHei-Bold;\n  font-size: 12px;\n  color: #393939;\n  letter-spacing: 0;\n}\n.nearShop-right[data-v-3f0d5c88]{\n  font-family: MicrosoftYaHei-Bold;\n  font-size: 12px;\n  color: #393939;\n  letter-spacing: 0;\n  padding-right: 10px;\n  float: right;\n}\n","",{version:3,sources:["E:/work_space/HBudiler/wx_mall_my/src/view/vcard/giveVcard.vue"],names:[],mappings:";AACA;EACE,mBAAmB;EACnB,cAAc;EACd,uBAAuB;CACxB;AACD;EACE,0BAA0B;EAC1B,cAAc;EACd,mBAAmB;CACpB;AACD;EACE,iCAAiC;EACjC,gBAAgB;EAChB,eAAe;EACf,kBAAkB;EAClB,cAAc;CACf;AACD;EACE,aAAa;EACb,WAAW;EACX,0BAA0B;EAC1B,6BAA6B;CAC9B;AACD;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,mBAAmB;CACpB;AACD;EACE,eAAe;EACf,kBAAkB;EAClB,gBAAgB;EAChB,oBAAoB;EACpB,iBAAiB;CAClB;AACD;EACE,YAAY;EACZ,kBAAkB;EAClB,gBAAgB;EAChB,oBAAoB;EACpB,iBAAiB;CAClB;AACD;EACE,cAAc;EACd,mBAAmB;CACpB;AACD;EACE,0BAA0B;EAC1B,eAAe;EACf,cAAc;EACd,kBAAkB;EAClB,WAAW;EACX,WAAW;EACX,UAAU;CACX;AACD;EACE,yBAAyB;EACzB,YAAY;EACZ,kDAAkD;UAC1C,0CAA0C;CACnD;AACD;EACE,kBAAkB;EAClB,uBAAuB;CACxB;AACD;EACE,iCAAiC;EACjC,gBAAgB;EAChB,eAAe;EACf,kBAAkB;CACnB;AACD;EACE,iCAAiC;EACjC,gBAAgB;EAChB,eAAe;EACf,kBAAkB;EAClB,oBAAoB;EACpB,aAAa;CACd",file:"giveVcard.vue",sourcesContent:["\n.qrcode[data-v-3f0d5c88]{\n  text-align: center;\n  padding: 30px;\n  background-color: #fff;\n}\n.header[data-v-3f0d5c88]{\n  background-color: #FFD100;\n  height: 350px;\n  position: relative;\n}\n.notice-text[data-v-3f0d5c88]{\n  font-family: MicrosoftYaHei-Bold;\n  font-size: 35px;\n  color: #272727;\n  letter-spacing: 0;\n  padding: 10px;\n}\n.customer[data-v-3f0d5c88]{\n  height: 50px;\n  width: 60%;\n  background-color: #272727;\n  border-radius: 0 25px 25px 0;\n}\n.customer-header[data-v-3f0d5c88]{\n  width: 40px;\n  padding: 5px;\n  display: inline-block;\n  border-radius: 50%;\n}\n.cname[data-v-3f0d5c88]{\n  color: #FFD100;\n  line-height: 50px;\n  font-size: 18px;\n  vertical-align: top;\n  padding-top: 5px;\n}\n.give[data-v-3f0d5c88]{\n  color: #fff;\n  line-height: 50px;\n  font-size: 18px;\n  vertical-align: top;\n  padding-top: 5px;\n}\n.logo[data-v-3f0d5c88]{\n  height: 200px;\n  text-align: center;\n}\n.lq-btn[data-v-3f0d5c88]{\n  background-color: #F3F4F5;\n  color: #A3A3A3;\n  padding: 10px;\n  position:absolute;\n  width: 50%;\n  top: 315px;\n  left: 25%;\n}\n.lq-btn-red[data-v-3f0d5c88]{\n  background-color:#FE4D3D;\n  color: #fff;\n  -webkit-box-shadow: 0 8px 20px 0 rgba(0,0,0,0.20);\n          box-shadow: 0 8px 20px 0 rgba(0,0,0,0.20);\n}\n.nearShop[data-v-3f0d5c88]{\n  padding-top: 35px;\n  background-color: #fff;\n}\n.nearShop-one[data-v-3f0d5c88]{\n  font-family: MicrosoftYaHei-Bold;\n  font-size: 12px;\n  color: #393939;\n  letter-spacing: 0;\n}\n.nearShop-right[data-v-3f0d5c88]{\n  font-family: MicrosoftYaHei-Bold;\n  font-size: 12px;\n  color: #393939;\n  letter-spacing: 0;\n  padding-right: 10px;\n  float: right;\n}\n"],sourceRoot:""}])},Wkf9:function(n,t,e){n.exports=e.p+"static/img/code.4296f9f.jpg"},f053:function(n,t,e){"use strict";function a(n){e("tcFR")}function o(n){e("2Z7h")}Object.defineProperty(t,"__esModule",{value:!0});var r=e("wpcj"),i=e("/kga"),c=e("63CM"),s=e.n(c),d=e("2sLL"),A=e("YxJB"),l=e("3Lt7"),p=e("1DHf"),f=e("rHil"),g={props:{message:{type:String,default:"长按扫码关注"}},directives:{TransferDom:s.a},components:{XDialog:i.a,TransferDom:s.a},name:"follow",data:function(){return{showBox:!1}},created:function(){},activated:function(){},deactivated:function(){},methods:{}},C=function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",[a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("x-dialog",{attrs:{"hide-on-blur":"","dialog-style":{"max-width":"100%",width:"100%",height:"50%","background-color":"transparent"}},model:{value:n.showBox,callback:function(t){n.showBox=t},expression:"showBox"}},[a("img",{attrs:{src:e("Wkf9")}}),n._v(" "),a("p",{staticStyle:{color:"#fff","text-align":"center"},on:{click:function(t){n.showDialogStyle=!1}}},[a("span",{staticStyle:{"font-size":"20px"}},[n._v(n._s(n.message))])])])],1)])},u=[],v={render:C,staticRenderFns:u},h=v,B=e("VU/8"),x=a,m=B(g,h,!1,x,"data-v-a74bc992",null),E=m.exports,b=e("3mLA"),k={directives:{TransferDom:s.a},components:{Qrcode:r.a,XDialog:i.a,TransferDom:s.a,XButton:d.a,follow:E,Flexbox:A.a,FlexboxItem:l.a,nearShop:b.a,Cell:p.a,Group:f.a},name:"giveVcard",data:function(){return{card_code:"",t:!0,message:"领取洗车卡需要先关注公众号哦。",subscribe:!1,givevcard:{Customer:{cname:""},toCustomer:{},status:2},error:0,nearShop:{},nearShopList:[]}},created:function(){},activated:function(){this.card_code=this.$route.params.card_code,console.log(this.card_code),this.fetchData(),this.getGiveVcard(),this.getNearShop()},deactivated:function(){},computed:{getBtnMsg:function(){var n="超时24小时已退回",t=this;return 0==t.error&&(n="点击领取"),1==t.givevcard.status&&t.givevcard.toCustomer&&(n="已被"+t.givevcard.toCustomer.cname+"领取"),2e4==t.error&&(n="领取成功"),n}},methods:{fetchData:function(){var n=this;n.xarpost("Wechat/ckechfollow").then(function(t){var e=t.data,a=t.error;t.message;console.log(e),0===a&&(n.subscribe=e.subscribe)})},getGiveVcard:function(){var n=this;n.xarpost("Vcard/getGiveVcardInfo",{card_code:n.card_code}).then(function(t){var e=t.data,a=t.error,o=t.message;if(n.error=a,n.givevcard=e,0===a){var r=e.Customer&&e.Customer.cname?e.Customer.cname:"您的好友",i=r+"赠送了您一张洗车卡，快来领取吧";n.setWechatTitle(i),1==e.status&&n.noticeBuy()}else n.noticeBuy(o+"，点击确定、带您购买新的洗车卡")})},lingqu:function(){var n=this;0==n.error&&(n.subscribe?n.xarpost("Vcard/getGiveVcard",{card_code:n.card_code}).then(function(t){var e=(t.data,t.error),a=t.message;0===e?(n.error=2e4,n.showtoast("领取成功")):n.showtoast(a)}):this.$refs.follow.showBox=!0)},noticeBuy:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"该洗车卡已被领取，现在带您去购买新的洗车卡？",t=this;t.$vux.alert.show({title:"小矮人",content:n,onHide:function(){t.$router.push("/vcard/2")}})},getNearShop:function(){var n=this;n.getLocation(!1).then(function(t){n.xarpost("Shopinfo/getNearShop",{lat:t.latitude,lng:t.longitude}).then(function(t){var e=t.data;t.error,t.message;n.nearShop=e[0],n.nearShopList=e})})}}},_=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("div",{staticClass:"header"},[n._m(0,!1,!1),n._v(" "),e("div",{staticClass:"customer"},[e("img",{staticClass:"customer-header",attrs:{src:n.givevcard.Customer.cavatar,alt:""}}),n._v(" "),e("span",{staticClass:"cname"},[n._v(n._s(n.givevcard.Customer.cname))]),n._v(" "),e("span",{staticClass:"give"},[n._v("赠送你")])]),n._v(" "),e("p",{staticClass:"notice-text"},[n._v("1张洗车卡")]),n._v(" "),e("x-button",{staticClass:"lq-btn",class:[0==n.error&&0==n.givevcard.status?"lq-btn-red":""],nativeOn:{click:function(t){n.lingqu(t)}}},[n._v(n._s(n.getBtnMsg))])],1),n._v(" "),e("div",{staticClass:"nearShop"},[e("flexbox",{staticStyle:{padding:"5px"},attrs:{gutter:0}},[e("flexbox-item",{attrs:{span:.5}},[e("div",{staticClass:"nearShop-one"},[n._v("附近的店")])]),n._v(" "),e("flexbox-item",{attrs:{span:.5}},[e("div",{staticClass:"nearShop-right"},[n._v("还有"+n._s(n.nearShopList.length)+"家门店在你附近")])])],1),n._v(" "),e("nearShop",{staticStyle:{"margin-bottom":"10px"},attrs:{shopInfo:n.nearShop}})],1),n._v(" "),e("group",[e("cell",{attrs:{title:"更多洗车卡",link:"/vcard/2"}})],1),n._v(" "),e("follow",{ref:"follow",attrs:{message:n.message}})],1)},w=[function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"logo"},[a("img",{staticStyle:{width:"121px",height:"131px","padding-top":"30px",margin:"0px auto"},attrs:{src:e("6Her")}})])}],D={render:_,staticRenderFns:w},S=D,y=e("VU/8"),F=o,H=y(k,S,!1,F,"data-v-3f0d5c88",null);t.default=H.exports},tcFR:function(n,t,e){var a=e("DpDW");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("189d27cf",a,!0)}});
//# sourceMappingURL=10.5f087f98ed021ef512ff.js.map